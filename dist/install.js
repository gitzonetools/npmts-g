"use strict";
var plugins = require("./npmts-g.plugins");
exports.installNpmtsGlobally = function () {
    var packJson = require("../package.json");
    var requiredNpmtsVersion = "^" + packJson.version;
    if (!plugins.shelljs.which('npmts')) {
        console.log("NPMTS wasn't found globally, so it is being installed now");
    }
    else {
        var globalNpmtsVersion = plugins.shelljs.exec("npmts -v").stdout;
        if (plugins.semver.satisfies(globalNpmtsVersion, requiredNpmtsVersion)) {
            console.log("OK! global npmts version satisfies needed version");
        }
        else {
            console.log("GlobalNPMTS does not satisfy required version, so we are installing it locally.");
            plugins.shelljs.exec("npm install npmts@" + packJson.version);
        }
    }
};
exports.installNpmtsGlobally();

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluc3RhbGwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQVksT0FBTyxXQUFNLG1CQUFtQixDQUFDLENBQUE7QUFFbEMsNEJBQW9CLEdBQUc7SUFDaEMsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFDMUMsSUFBSSxvQkFBb0IsR0FBRyxHQUFHLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQztJQUNsRCxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNwQyxPQUFPLENBQUMsR0FBRyxDQUFDLDJEQUEyRCxDQUFDLENBQUM7SUFDM0UsQ0FBQztJQUFDLElBQUksQ0FBQyxDQUFDO1FBQ04sSUFBSSxrQkFBa0IsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxNQUFNLENBQUM7UUFDakUsRUFBRSxDQUFBLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsa0JBQWtCLEVBQUMsb0JBQW9CLENBQUMsQ0FBQyxDQUFBLENBQUM7WUFDcEUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtREFBbUQsQ0FBQyxDQUFDO1FBQ25FLENBQUM7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNOLE9BQU8sQ0FBQyxHQUFHLENBQUMsaUZBQWlGLENBQUMsQ0FBQztZQUMvRixPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDaEUsQ0FBQztJQUNILENBQUM7QUFDSCxDQUFDLENBQUE7QUFFRCw0QkFBb0IsRUFBRSxDQUFDIiwiZmlsZSI6Imluc3RhbGwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBwbHVnaW5zIGZyb20gXCIuL25wbXRzLWcucGx1Z2luc1wiO1xuXG5leHBvcnQgbGV0IGluc3RhbGxOcG10c0dsb2JhbGx5ID0gZnVuY3Rpb24oKXtcbiAgbGV0IHBhY2tKc29uID0gcmVxdWlyZShcIi4uL3BhY2thZ2UuanNvblwiKTtcbiAgbGV0IHJlcXVpcmVkTnBtdHNWZXJzaW9uID0gXCJeXCIgKyBwYWNrSnNvbi52ZXJzaW9uO1xuICBpZiAoIXBsdWdpbnMuc2hlbGxqcy53aGljaCgnbnBtdHMnKSkge1xuICAgIGNvbnNvbGUubG9nKFwiTlBNVFMgd2Fzbid0IGZvdW5kIGdsb2JhbGx5LCBzbyBpdCBpcyBiZWluZyBpbnN0YWxsZWQgbm93XCIpO1xuICB9IGVsc2Uge1xuICAgIGxldCBnbG9iYWxOcG10c1ZlcnNpb24gPSBwbHVnaW5zLnNoZWxsanMuZXhlYyhcIm5wbXRzIC12XCIpLnN0ZG91dDtcbiAgICBpZihwbHVnaW5zLnNlbXZlci5zYXRpc2ZpZXMoZ2xvYmFsTnBtdHNWZXJzaW9uLHJlcXVpcmVkTnBtdHNWZXJzaW9uKSl7XG4gICAgICBjb25zb2xlLmxvZyhcIk9LISBnbG9iYWwgbnBtdHMgdmVyc2lvbiBzYXRpc2ZpZXMgbmVlZGVkIHZlcnNpb25cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiR2xvYmFsTlBNVFMgZG9lcyBub3Qgc2F0aXNmeSByZXF1aXJlZCB2ZXJzaW9uLCBzbyB3ZSBhcmUgaW5zdGFsbGluZyBpdCBsb2NhbGx5LlwiKTtcbiAgICAgIHBsdWdpbnMuc2hlbGxqcy5leGVjKFwibnBtIGluc3RhbGwgbnBtdHNAXCIgKyBwYWNrSnNvbi52ZXJzaW9uKTtcbiAgICB9XG4gIH1cbn1cblxuaW5zdGFsbE5wbXRzR2xvYmFsbHkoKTtcblxuXG4iXX0=
