"use strict";
var plugins = require("./npmts-g.plugins");
exports.installNpmtsGlobally = function () {
    var packJson = require("../package.json");
    var requiredNpmtsVersion = "^" + packJson.version;
    if (!plugins.shelljs.which('npmts')) {
        console.log("NPMTS wasn't found globally, so it is being installed now");
    }
    else {
        var globalNpmtsVersion = plugins.shelljs.exec("npmts -v").stdout;
        if (plugins.semver.satisfies(globalNpmtsVersion, requiredNpmtsVersion)) {
            console.log("OK! global npmts version satisfies needed version");
        }
        else {
            console.log("GlobalNPMTS does not satisfy required version, so we are installing it locally.");
            plugins.shelljs.exec("npm install npmts@latest");
        }
    }
};
exports.installNpmtsGlobally();

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluc3RhbGwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQVksT0FBTyxXQUFNLG1CQUFtQixDQUFDLENBQUE7QUFFbEMsNEJBQW9CLEdBQUc7SUFDaEMsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFDMUMsSUFBSSxvQkFBb0IsR0FBRyxHQUFHLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQztJQUNsRCxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNwQyxPQUFPLENBQUMsR0FBRyxDQUFDLDJEQUEyRCxDQUFDLENBQUM7SUFDM0UsQ0FBQztJQUFDLElBQUksQ0FBQyxDQUFDO1FBQ04sSUFBSSxrQkFBa0IsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxNQUFNLENBQUM7UUFDakUsRUFBRSxDQUFBLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsa0JBQWtCLEVBQUMsb0JBQW9CLENBQUMsQ0FBQyxDQUFBLENBQUM7WUFDcEUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtREFBbUQsQ0FBQyxDQUFDO1FBQ25FLENBQUM7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNOLE9BQU8sQ0FBQyxHQUFHLENBQUMsaUZBQWlGLENBQUMsQ0FBQztZQUMvRixPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO1FBQ25ELENBQUM7SUFDSCxDQUFDO0FBQ0gsQ0FBQyxDQUFBO0FBRUQsNEJBQW9CLEVBQUUsQ0FBQyIsImZpbGUiOiJpbnN0YWxsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgcGx1Z2lucyBmcm9tIFwiLi9ucG10cy1nLnBsdWdpbnNcIjtcclxuXHJcbmV4cG9ydCBsZXQgaW5zdGFsbE5wbXRzR2xvYmFsbHkgPSBmdW5jdGlvbigpe1xyXG4gIGxldCBwYWNrSnNvbiA9IHJlcXVpcmUoXCIuLi9wYWNrYWdlLmpzb25cIik7XHJcbiAgbGV0IHJlcXVpcmVkTnBtdHNWZXJzaW9uID0gXCJeXCIgKyBwYWNrSnNvbi52ZXJzaW9uO1xyXG4gIGlmICghcGx1Z2lucy5zaGVsbGpzLndoaWNoKCducG10cycpKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIk5QTVRTIHdhc24ndCBmb3VuZCBnbG9iYWxseSwgc28gaXQgaXMgYmVpbmcgaW5zdGFsbGVkIG5vd1wiKTtcclxuICB9IGVsc2Uge1xyXG4gICAgbGV0IGdsb2JhbE5wbXRzVmVyc2lvbiA9IHBsdWdpbnMuc2hlbGxqcy5leGVjKFwibnBtdHMgLXZcIikuc3Rkb3V0O1xyXG4gICAgaWYocGx1Z2lucy5zZW12ZXIuc2F0aXNmaWVzKGdsb2JhbE5wbXRzVmVyc2lvbixyZXF1aXJlZE5wbXRzVmVyc2lvbikpe1xyXG4gICAgICBjb25zb2xlLmxvZyhcIk9LISBnbG9iYWwgbnBtdHMgdmVyc2lvbiBzYXRpc2ZpZXMgbmVlZGVkIHZlcnNpb25cIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIkdsb2JhbE5QTVRTIGRvZXMgbm90IHNhdGlzZnkgcmVxdWlyZWQgdmVyc2lvbiwgc28gd2UgYXJlIGluc3RhbGxpbmcgaXQgbG9jYWxseS5cIik7XHJcbiAgICAgIHBsdWdpbnMuc2hlbGxqcy5leGVjKFwibnBtIGluc3RhbGwgbnBtdHNAbGF0ZXN0XCIpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuaW5zdGFsbE5wbXRzR2xvYmFsbHkoKTtcclxuXHJcblxyXG4iXX0=
